<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-hit-test@2.1.2/dist/aframe-hit-test.min.js"></script>
    <style>
      body { margin: 0; overflow: hidden; }
      #ar-instructions {
        position: absolute;
        top: 20px;
        width: 100%;
        text-align: center;
        color: white;
        background-color: rgba(0, 0, 0, 0.5);
        padding: 10px;
        z-index: 100;
        font-family: sans-serif;
      }
    </style>
  </head>
  <body>
    <div id="ar-instructions">바닥을 찾아 화면을 탭하세요!</div>

    <a-scene
      vr-mode-ui="enabled: false"
      ar-mode="webxr"
      renderer="antialias: true; alpha: true;">

      <a-camera position="0 0 0" look-controls="enabled: false" ar-hit-test="test: true"></a-camera>

      <a-sphere id="ball" position="0 0 0" radius="0.5" color="#EF2D5E" visible="false"></a-sphere>

      <script>
        const ball = document.getElementById('ball');
        const camera = document.querySelector('a-camera');

        window.addEventListener('click', function(e) {
          const hitTest = camera.components['ar-hit-test'];
          if (hitTest.latestHit) {
            const hit = hitTest.latestHit;
            ball.setAttribute('position', `${hit.x} ${hit.y + 0.5} ${hit.z}`);
            ball.setAttribute('visible', 'true');
          }
        });
      </script>

    </a-scene>
  </body>
</html>
